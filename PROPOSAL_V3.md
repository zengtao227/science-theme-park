# 提案 V3: 数学模块场景化改造

**Status**: PROPOSAL (等待审批)  
**Date**: 2026-02-10  
**Author**: Acting Director  

---

## 1. 问题总结

用户反馈了以下核心问题：

### 问题 A: 题目缺乏真实场景
**影响模块**: SM1-01, SM2-01, SM2-02, SM2-03
- 所有模块的题目都是纯数学表达（如 "Rectangle: a=5, b=8"、"Find hypotenuse: a=3, b=4"）。
- 学生不知道**为什么**要计算这些东西，缺乏动机和代入感。
- **用户原话**: "即使是面积体积这么简单的题目，直接让学生计算也比较枯燥，可以加一点比较真实的场景。"

### 问题 B: SM2-01 场景逻辑断裂
- 当前使用了"建筑师"和"收银员"作为场景，但**完全看不出它们和二项式有什么关系**。
- **用户原话**: "建筑师和收银员跟二项式有什么关系？这种做法不对。"

### 问题 C: SM2-02 图形不完整 + 不直观
- 勾股定理的图形**没有完整显示**（可能被裁剪或太小）。
- 更重要的是：图形**无法帮助学生理解**为什么 a²+b²=c²。
- **用户原话**: "最重要的是这个图形没有办法让学生很好的理解为什么 a²+b²=c² 是怎么样得来的，所以整个方案都不好。"

### 问题 D: SM2-03 目的不明
- "激光实验室"概念让人困惑。
- 右侧图表看不出在帮助学生理解什么。
- **用户原话**: "我也看不出来右侧图表到底是想帮助学生理解什么东西。"

---

## 2. 改进方案

### 2.1 SM1-01: 面积与体积 → "瑞士工程师"

**核心改动**: 将纯数学 `promptLatex` 替换为场景化描述。

| 原始题目 | 改造后场景 |
|---------|-----------|
| `Rectangle: a=5, b=8, 计算面积` | **阿尔卑斯滑雪场**: 你负责管理滑雪雪道。雪道长200m，宽15m，需要铺设30cm厚的新雪。计算雪道面积以确定压雪机工作范围。 |
| `Triangle: b=6, h=4, 计算面积` | **帆船帆面**: 苏黎世湖帆船俱乐部需要订制新帆。帆是三角形，底边6m，高4m。计算帆的面积以确定需要多少布料。 |
| `Cube: a=4, 计算体积` | **瑞士传统木屋翻新**: 你家的阁楼是个正方体空间(边长4m)。需要计算体积来选购正确容量的空气净化器。 |
| `Cylinder: r=3, h=7, 计算体积` | **格律耶尔奶酪工厂**: 一个圆柱形奶酪模具，半径3cm，高7cm。计算模具容量，以确定每块奶酪的重量（密度1.1g/cm³）。 |

**实现方式**: 修改 `page.tsx` 中的 `buildStagePool` 函数，更新 `promptLatex` 和 `expressionLatex`。
**工作量**: 小（仅文案修改，不涉及组件重写）。

---

### 2.2 SM2-01: 二项式定理 → "花园扩建"

**核心改动**: 废弃"建筑师/收银员"场景，改为直观的**几何面积拼接**场景。

**新场景: 苏黎世湖畔花园扩建**
- **故事**: 你在湖畔租了一块正方形花坛（边长 a 米），现在要向外扩展 b 米宽度。
- **任务**: 
  1. 用图形拼接直观展示：扩展后的总面积 = a² + 2ab + b²
  2. 拖动滑块调整 a 和 b，观察三个区域（a²、2×ab、b²）的面积变化。
- **视觉**: 一个交互式的正方形网格，自动标记出 a² 区域（绿色）、两个 ab 矩形区域（蓝色）、b² 区域（紫色）。
- **数学直觉**: 学生亲眼看到"大正方形 = 小正方形 + 两个矩形 + 角落小正方形"。

**实现方式**: 
- 修改 `scenarios` 文案（i18n）。
- 修改 `page.tsx` 中的场景标题和描述。
- `BinomialSquareCanvas` 的交互式分割逻辑已经存在，只需确保文案和 UI 引导更清晰。
**工作量**: 中（文案 + 部分 UI 调整）。

---

### 2.3 SM2-02: 勾股定理 → "伯尔尼消防救援"

**核心改动**: 
1. **题目场景化**。
2. **图形完整性修复**。
3. **直觉性增强**（让学生理解 a²+b²=c² 的几何含义）。

**新场景题目** (替换现有纯数学题):

| 原始题目 | 改造后场景 |
|---------|-----------|
| `Find hypotenuse: a=3, b=4` | **伯尔尼消防救援**: 消防车需通过中世纪街巷救火。楼梯间水平距离3m，垂直高度4m。计算消防梯需展开的最短长度。 |
| `Find leg: c=13, a=5` | **阿尔卑斯登山绳索**: 登山者需从营地垂直上升，绳索总长13m，水平移动了5m。计算实际攀升的垂直高度。 |
| `Distance on grid: (1,2)→(4,6)` | **巴塞尔导航**: 无人机从坐标(1,2)到(4,6)的快递站，需要计算最短直线飞行距离。 |

**图形完整性**: 
- 检查 `PythagorasCanvas` 的 `viewBox` 和渲染逻辑，确保三角形和三个面积方块完全可见。
- 增加面积方块的颜色填充和标签（a²=红，b²=蓝，c²=绿），并增加动画效果让面积方块"流入"c²，直观展示面积守恒。

**工作量**: 中（文案 + Canvas 修复）。

---

### 2.4 SM2-03: 直线与函数 → "瑞士铁路票价"

**核心改动**: 废弃"激光实验室"概念，改为直观的**票价/缆车高度**场景。

**新场景: 瑞士铁路票价计算器**
- **故事**: SBB 铁路的票价由两部分组成：
  - **基础费用 c** = 20 CHF（固定费用/截距）
  - **每公里费用 m** = 0.15 CHF/km（斜率）
  - **总费用 y** = 0.15x + 20
- **任务**: 
  1. LEVEL 1: 给定目的地距离，计算票价（代入法）。
  2. LEVEL 2: 给定预算，计算最远可到达的距离（求 x）。
  3. LEVEL 3: 对比两种票价方案（不同 m 和 c），找到"临界点"（交点）。
- **视觉**: 
  - 右侧图表显示票价曲线（y=mx+c），X轴是距离(km)，Y轴是费用(CHF)。
  - 滑动 m 或 c 时，曲线实时变化。
  - Level 3 显示两条曲线的交点（"从这个距离开始，方案B更划算"）。
- **数学直觉**:
  - **斜率 m** = "每多走1km，多花多少钱"（变化率）。
  - **截距 c** = "还没出发就要付的钱"（起步价）。
  - **交点** = "两个方案费用相同的临界距离"。

**实现方式**: 
- 更新 i18n 文案。
- 修改 `LaserCanvas` 为 `TrainFareCanvas`（或复用现有坐标系，只是改标签和逻辑）。
**工作量**: 大（需要重写右侧图表的标签和交互逻辑）。

---

## 3. 优先级和执行计划

| 优先级 | 模块 | 改动类型 | 工作量 |
|--------|------|---------|--------|
| P0 | SM1-01 面积体积 | 纯文案替换 | 小 (1h) |
| P0 | SM2-01 二项式 | 文案替换 + UI引导 | 中 (2h) |
| P0 | SM2-02 勾股定理 | 文案替换 + Canvas修复 | 中 (3h) |
| P1 | SM2-03 直线函数 | 概念重构 + 图表重写 | 大 (5h) |

---

## 4. 待审批

请确认以上方案是否合理。如果批准，我将按优先级顺序立即执行：
1. 先改 SM1-01 和 SM2-01 的文案（最快见效）。
2. 再修 SM2-02 的图形和文案。
3. 最后重构 SM2-03。
