
> science-theme-park-web@0.1.4 lint
> eslint


/Users/zengtao/science-theme-park/check_all_modules_complete.js
   1:12  error    A `require()` style import is forbidden  @typescript-eslint/no-require-imports
   2:14  error    A `require()` style import is forbidden  @typescript-eslint/no-require-imports
  14:16  error    A `require()` style import is forbidden  @typescript-eslint/no-require-imports
  15:19  error    A `require()` style import is forbidden  @typescript-eslint/no-require-imports
  16:21  error    A `require()` style import is forbidden  @typescript-eslint/no-require-imports
  17:19  error    A `require()` style import is forbidden  @typescript-eslint/no-require-imports
  19:16  error    A `require()` style import is forbidden  @typescript-eslint/no-require-imports
  20:19  error    A `require()` style import is forbidden  @typescript-eslint/no-require-imports
  21:21  error    A `require()` style import is forbidden  @typescript-eslint/no-require-imports
  22:19  error    A `require()` style import is forbidden  @typescript-eslint/no-require-imports
  24:16  error    A `require()` style import is forbidden  @typescript-eslint/no-require-imports
  25:19  error    A `require()` style import is forbidden  @typescript-eslint/no-require-imports
  26:21  error    A `require()` style import is forbidden  @typescript-eslint/no-require-imports
  27:19  error    A `require()` style import is forbidden  @typescript-eslint/no-require-imports
  77:41  warning  'hasEN' is defined but never used        @typescript-eslint/no-unused-vars

/Users/zengtao/science-theme-park/check_all_translations.js
  1:12  error  A `require()` style import is forbidden  @typescript-eslint/no-require-imports
  2:14  error  A `require()` style import is forbidden  @typescript-eslint/no-require-imports

/Users/zengtao/science-theme-park/check_missing_in_common.js
  2:12  error  A `require()` style import is forbidden  @typescript-eslint/no-require-imports

/Users/zengtao/science-theme-park/check_translations.js
  2:12  error    A `require()` style import is forbidden    @typescript-eslint/no-require-imports
  3:7   warning  'path' is assigned a value but never used  @typescript-eslint/no-unused-vars
  3:14  error    A `require()` style import is forbidden    @typescript-eslint/no-require-imports

/Users/zengtao/science-theme-park/src/app/chamber/em1-01/page.tsx
  29:38  error    Compilation Skipped: Existing memoization could not be preserved

React Compiler has skipped optimizing this component because the existing manual memoization could not be preserved. The inferred dependencies did not match the manually specified dependencies, which could cause the value to change more or less frequently than expected. The inferred dependency was `towerShadow`, but the source dependencies were [poleHeight, poleShadow, towerHeight]. Inferred different dependency than source.

/Users/zengtao/science-theme-park/src/app/chamber/em1-01/page.tsx:29:38
  27 |   const towerHeight = useMemo(() => poleHeight * (towerShadow / poleShadow), [poleHeight, poleShadow, towerShadow]);
  28 |
> 29 |   const buildStagePool = useCallback((t: typeof translations.EN.em1_01, difficulty: Difficulty, stage: Stage): ThalesQuest[] => {
     |                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 30 |     const height = Number(towerHeight.toFixed(2));
     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 31 |     return [
     …
     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 50 |     ];
     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 51 |   }, [poleHeight, poleShadow, towerHeight]);
     | ^^^^ Could not preserve existing manual memoization
  52 |
  53 |   const buildPool = useCallback((difficulty: Difficulty, stage: Stage) => buildStagePool(t, difficulty, stage), [t, buildStagePool]);
  54 |  react-hooks/preserve-manual-memoization
  51:6   warning  React Hook useCallback has a missing dependency: 'towerShadow'. Either include it or remove the dependency array                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         react-hooks/exhaustive-deps

/Users/zengtao/science-theme-park/src/app/chamber/em2-01/page.tsx
    8:10  warning  'InlineMath' is defined but never used    @typescript-eslint/no-unused-vars
   40:29  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  189:47  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/zengtao/science-theme-park/src/app/chamber/gb1-01/page.tsx
  270:68  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/zengtao/science-theme-park/src/app/chamber/gb2-01/page.tsx
    3:10  warning  'useEffect' is defined but never used               @typescript-eslint/no-unused-vars
   18:12  error    Unexpected any. Specify a different type            @typescript-eslint/no-explicit-any
   24:30  warning  'completeStage' is assigned a value but never used  @typescript-eslint/no-unused-vars
   26:21  warning  'setVoltage' is assigned a value but never used     @typescript-eslint/no-unused-vars
  154:9   warning  'next' is assigned a value but never used           @typescript-eslint/no-unused-vars
  162:11  warning  'successRate' is assigned a value but never used    @typescript-eslint/no-unused-vars

/Users/zengtao/science-theme-park/src/app/chamber/gb3-01/page.tsx
  136:13  error  Error: Calling setState synchronously within an effect can trigger cascading renders

Effects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:
* Update external systems with the latest state from React.
* Subscribe for updates from some external system, calling setState in a callback function when external state changes.

Calling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).

/Users/zengtao/science-theme-park/src/app/chamber/gb3-01/page.tsx:136:13
  134 |     useEffect(() => {
  135 |         if (currentQuest && currentQuest.highlightIndex !== undefined) {
> 136 |             setHighlightPair(currentQuest.highlightIndex);
      |             ^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect
  137 |         } else {
  138 |             setHighlightPair(null);
  139 |         }  react-hooks/set-state-in-effect
  258:68  error  Unexpected any. Specify a different type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      @typescript-eslint/no-explicit-any

/Users/zengtao/science-theme-park/src/app/chamber/gb3-02/page.tsx
    3:10  warning  'useEffect' is defined but never used                @typescript-eslint/no-unused-vars
   18:12  error    Unexpected any. Specify a different type             @typescript-eslint/no-explicit-any
   24:30  warning  'completeStage' is assigned a value but never used   @typescript-eslint/no-unused-vars
   26:25  warning  'setAntigenLoad' is assigned a value but never used  @typescript-eslint/no-unused-vars
  129:9   warning  'pool' is assigned a value but never used            @typescript-eslint/no-unused-vars

/Users/zengtao/science-theme-park/src/app/chamber/gc1-01/page.tsx
   3:10  warning  'useState' is defined but never used      @typescript-eslint/no-unused-vars
  28:28  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/zengtao/science-theme-park/src/app/chamber/gc1-02/page.tsx
   3:10  warning  'useEffect' is defined but never used                @typescript-eslint/no-unused-vars
  25:21  warning  'setVoltage' is assigned a value but never used      @typescript-eslint/no-unused-vars
  26:12  warning  'electrolyte' is assigned a value but never used     @typescript-eslint/no-unused-vars
  26:25  warning  'setElectrolyte' is assigned a value but never used  @typescript-eslint/no-unused-vars

/Users/zengtao/science-theme-park/src/app/chamber/gc2-01/page.tsx
   3:10  warning  'useState' is defined but never used      @typescript-eslint/no-unused-vars
  28:28  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/zengtao/science-theme-park/src/app/chamber/gc3-01/page.tsx
   3:10  warning  'useState' is defined but never used      @typescript-eslint/no-unused-vars
  24:28  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/zengtao/science-theme-park/src/app/chamber/gc3-02/page.tsx
   3:10  warning  'useState' is defined but never used      @typescript-eslint/no-unused-vars
  28:28  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/zengtao/science-theme-park/src/app/chamber/gm1-01-advanced/page.tsx
  5:10  warning  'useState' is defined but never used  @typescript-eslint/no-unused-vars

/Users/zengtao/science-theme-park/src/app/chamber/gm1-01/page.tsx
  241:11  error  'expr' is never reassigned. Use 'const' instead  prefer-const
  274:11  error  'expr' is never reassigned. Use 'const' instead  prefer-const

/Users/zengtao/science-theme-park/src/app/chamber/gm3-01/page.tsx
  281:16  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  290:29  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/zengtao/science-theme-park/src/app/chamber/sb1-01-metabolic/page.tsx
  132:62  error  Error: Calling setState synchronously within an effect can trigger cascading renders

Effects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:
* Update external systems with the latest state from React.
* Subscribe for updates from some external system, calling setState in a callback function when external state changes.

Calling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).

/Users/zengtao/science-theme-park/src/app/chamber/sb1-01-metabolic/page.tsx:132:62
  130 |         if (currentQuest) {
  131 |             if (currentQuest.stage === "OSMOSIS") {
> 132 |                 if (currentQuest.statusKey === "hypertonic") setOsmolarity(-0.6);
      |                                                              ^^^^^^^^^^^^^ Avoid calling setState() directly within an effect
  133 |                 else if (currentQuest.statusKey === "hypotonic") setOsmolarity(0.6);
  134 |                 else setOsmolarity(0);
  135 |             } else if (currentQuest.stage === "HOMEOSTASIS") {  react-hooks/set-state-in-effect
  267:68  error  Unexpected any. Specify a different type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  @typescript-eslint/no-explicit-any

/Users/zengtao/science-theme-park/src/app/chamber/sb1-01/page.tsx
  124:13  error  Error: Calling setState synchronously within an effect can trigger cascading renders

Effects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:
* Update external systems with the latest state from React.
* Subscribe for updates from some external system, calling setState in a callback function when external state changes.

Calling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).

/Users/zengtao/science-theme-park/src/app/chamber/sb1-01/page.tsx:124:13
  122 |     useEffect(() => {
  123 |         if (currentQuest) {
> 124 |             setSelectedOrganelle(currentQuest.targetOrganelleId);
      |             ^^^^^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect
  125 |         }
  126 |     }, [currentQuest]);
  127 |  react-hooks/set-state-in-effect
  231:68  error  Unexpected any. Specify a different type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       @typescript-eslint/no-explicit-any

/Users/zengtao/science-theme-park/src/app/chamber/sb1-02/page.tsx
  293:68  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/zengtao/science-theme-park/src/app/chamber/sb2-02/page.tsx
  149:17  error  Error: Calling setState synchronously within an effect can trigger cascading renders

Effects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:
* Update external systems with the latest state from React.
* Subscribe for updates from some external system, calling setState in a callback function when external state changes.

Calling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).

/Users/zengtao/science-theme-park/src/app/chamber/sb2-02/page.tsx:149:17
  147 |         if (currentQuest) {
  148 |             if (currentQuest.system) {
> 149 |                 setSelectedSystem(currentQuest.system);
      |                 ^^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect
  150 |             }
  151 |             if (currentQuest.organ) {
  152 |                 setHighlightedOrgan(currentQuest.organ);  react-hooks/set-state-in-effect
  268:68  error  Unexpected any. Specify a different type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          @typescript-eslint/no-explicit-any

/Users/zengtao/science-theme-park/src/app/chamber/sb2-03/page.tsx
   30:40  error    Compilation Skipped: Existing memoization could not be preserved

React Compiler has skipped optimizing this component because the existing manual memoization could not be preserved. The inferred dependencies did not match the manually specified dependencies, which could cause the value to change more or less frequently than expected. The inferred dependency was `t.prompts`, but the source dependencies were []. Inferred dependency not present in source.

/Users/zengtao/science-theme-park/src/app/chamber/sb2-03/page.tsx:30:40
  28 |     const [p2, setP2] = useState<Genotype>("Rr");
  29 |
> 30 |     const buildStagePool = useCallback((difficulty: Difficulty, stage: Stage): SB203Quest[] => {
     |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 31 |         const quests: SB203Quest[] = [];
     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 32 |
     …
     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 71 |         return quests;
     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 72 |     }, []);
     | ^^^^^^ Could not preserve existing manual memoization
  73 |
  74 |     const buildPool = useCallback((d: Difficulty, s: Stage) => buildStagePool(d, s), [buildStagePool]);
  75 |  react-hooks/preserve-manual-memoization
   72:8   warning  React Hook useCallback has missing dependencies: 't.prompts.hint_all_rr', 't.prompts.hint_count', 't.prompts.hint_square', 't.prompts.monohybrid_percent', 't.prompts.monohybrid_ratio', 't.prompts.percent_target', 't.prompts.prob_genotype', 't.prompts.prob_target', and 't.prompts.ratio_target'. Either include them or remove the dependency array                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    react-hooks/exhaustive-deps
  109:13  error    Error: Calling setState synchronously within an effect can trigger cascading renders

Effects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:
* Update external systems with the latest state from React.
* Subscribe for updates from some external system, calling setState in a callback function when external state changes.

Calling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).

/Users/zengtao/science-theme-park/src/app/chamber/sb2-03/page.tsx:109:13
  107 |     useEffect(() => {
  108 |         if (currentQuest) {
> 109 |             setP1(currentQuest.p1);
      |             ^^^^^ Avoid calling setState() directly within an effect
  110 |             setP2(currentQuest.p2);
  111 |         }
  112 |     }, [currentQuest]);                                                                                                                                                                                                         react-hooks/set-state-in-effect
  204:68  error    Unexpected any. Specify a different type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     @typescript-eslint/no-explicit-any

/Users/zengtao/science-theme-park/src/app/chamber/sb3-01/page.tsx
   17:12  error    Unexpected any. Specify a different type                @typescript-eslint/no-explicit-any
  121:9   warning  'getHint' is assigned a value but never used            @typescript-eslint/no-unused-vars
  122:9   warning  'currentStageStats' is assigned a value but never used  @typescript-eslint/no-unused-vars
  123:9   warning  'pool' is assigned a value but never used               @typescript-eslint/no-unused-vars

/Users/zengtao/science-theme-park/src/app/chamber/sc2-02/page.tsx
    3:10  warning  'useState' is defined but never used      @typescript-eslint/no-unused-vars
   30:28  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  152:58  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  157:60  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/zengtao/science-theme-park/src/app/chamber/sc3-01/page.tsx
    3:43   warning  'useState' is defined but never used      @typescript-eslint/no-unused-vars
   70:116  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  180:50   error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/zengtao/science-theme-park/src/app/chamber/sc3-02/page.tsx
  149:13  error  Error: Calling setState synchronously within an effect can trigger cascading renders

Effects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:
* Update external systems with the latest state from React.
* Subscribe for updates from some external system, calling setState in a callback function when external state changes.

Calling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).

/Users/zengtao/science-theme-park/src/app/chamber/sc3-02/page.tsx:149:13
  147 |     useEffect(() => {
  148 |         if (currentQuest?.molecule) {
> 149 |             setSelectedMolecule(currentQuest.molecule);
      |             ^^^^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect
  150 |         }
  151 |     }, [currentQuest]);
  152 |  react-hooks/set-state-in-effect
  250:68  error  Unexpected any. Specify a different type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      @typescript-eslint/no-explicit-any

/Users/zengtao/science-theme-park/src/app/chamber/sc3-03/page.tsx
  258:68  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/zengtao/science-theme-park/src/app/chamber/sc3-04/page.tsx
  147:13  error  Error: Calling setState synchronously within an effect can trigger cascading renders

Effects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:
* Update external systems with the latest state from React.
* Subscribe for updates from some external system, calling setState in a callback function when external state changes.

Calling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).

/Users/zengtao/science-theme-park/src/app/chamber/sc3-04/page.tsx:147:13
  145 |     useEffect(() => {
  146 |         if (currentQuest?.molecule) {
> 147 |             setSelectedMolecule(currentQuest.molecule);
      |             ^^^^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect
  148 |         } else if (currentQuest?.propA) {
  149 |             setSelectedMolecule(currentQuest.propA.toLowerCase().replace(" ", "_"));
  150 |         }  react-hooks/set-state-in-effect
  258:68  error  Unexpected any. Specify a different type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             @typescript-eslint/no-explicit-any

/Users/zengtao/science-theme-park/src/app/chamber/sc3-05/page.tsx
    3:10  warning  'useEffect' is defined but never used                   @typescript-eslint/no-unused-vars
    3:34  warning  'useMemo' is defined but never used                     @typescript-eslint/no-unused-vars
   17:12  error    Unexpected any. Specify a different type                @typescript-eslint/no-explicit-any
   23:30  warning  'completeStage' is assigned a value but never used      @typescript-eslint/no-unused-vars
   25:23  warning  'setStability' is assigned a value but never used       @typescript-eslint/no-unused-vars
  110:9   warning  'currentStageStats' is assigned a value but never used  @typescript-eslint/no-unused-vars
  111:9   warning  'pool' is assigned a value but never used               @typescript-eslint/no-unused-vars

/Users/zengtao/science-theme-park/src/app/chamber/sm1-01/page.tsx
  12:8   warning  'ResizableLayout' is defined but never used  @typescript-eslint/no-unused-vars
  46:19  warning  'p' is assigned a value but never used       @typescript-eslint/no-unused-vars
  46:33  warning  'ratio' is assigned a value but never used   @typescript-eslint/no-unused-vars
  59:19  warning  'c' is assigned a value but never used       @typescript-eslint/no-unused-vars
  75:19  warning  'circ' is assigned a value but never used    @typescript-eslint/no-unused-vars

/Users/zengtao/science-theme-park/src/app/chamber/sm1-02/page.tsx
  30:11  warning  'isElite' is assigned a value but never used  @typescript-eslint/no-unused-vars

/Users/zengtao/science-theme-park/src/app/chamber/sm1-05/page.tsx
   18:17  error    Unexpected any. Specify a different type      @typescript-eslint/no-explicit-any
   31:15  warning  'isElite' is assigned a value but never used  @typescript-eslint/no-unused-vars
  560:68  error    Unexpected any. Specify a different type      @typescript-eslint/no-explicit-any

/Users/zengtao/science-theme-park/src/app/chamber/sm2-01/error.tsx
  26:9  error  Do not use an `<a>` element to navigate to `/`. Use `<Link />` from `next/link` instead. See: https://nextjs.org/docs/messages/no-html-link-for-pages  @next/next/no-html-link-for-pages

/Users/zengtao/science-theme-park/src/app/chamber/sm2-01/page.tsx
    5:29  warning  'useEffect' is defined but never used                    @typescript-eslint/no-unused-vars
  249:28  warning  'completeStage' is assigned a value but never used       @typescript-eslint/no-unused-vars
  294:9   warning  'speedsterQuest' is assigned a value but never used      @typescript-eslint/no-unused-vars
  318:9   warning  'targetSize' is assigned a value but never used          @typescript-eslint/no-unused-vars
  319:9   warning  'initialPositions' is assigned a value but never used    @typescript-eslint/no-unused-vars
  332:9   warning  'getCanvasLabels' is assigned a value but never used     @typescript-eslint/no-unused-vars
  364:9   warning  'getCanvasTitleText' is assigned a value but never used  @typescript-eslint/no-unused-vars
  436:45  error    Unexpected any. Specify a different type                 @typescript-eslint/no-explicit-any

/Users/zengtao/science-theme-park/src/app/chamber/sm2-02/page.tsx
  620:9  warning  'isSqrtTab' is assigned a value but never used        @typescript-eslint/no-unused-vars
  645:9  warning  'handleTabChange' is assigned a value but never used  @typescript-eslint/no-unused-vars

/Users/zengtao/science-theme-park/src/app/chamber/sm2-03/page.tsx
  13:6   warning  'S203T' is defined but never used         @typescript-eslint/no-unused-vars
  33:27  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  48:27  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  64:27  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  86:28  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/zengtao/science-theme-park/src/app/chamber/sm2-05/page.tsx
  24:11  warning  'isElite' is assigned a value but never used  @typescript-eslint/no-unused-vars

/Users/zengtao/science-theme-park/src/app/chamber/sm2-06/page.tsx
  24:9  warning  'isElite' is assigned a value but never used  @typescript-eslint/no-unused-vars

/Users/zengtao/science-theme-park/src/app/chamber/sm2-07/page.tsx
  20:18  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  26:64  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/zengtao/science-theme-park/src/app/chamber/sm3-02/page.tsx
  414:9   warning  'parseNumberLike' is assigned a value but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              @typescript-eslint/no-unused-vars
  423:13  error    Error: Calling setState synchronously within an effect can trigger cascading renders

Effects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:
* Update external systems with the latest state from React.
* Subscribe for updates from some external system, calling setState in a callback function when external state changes.

Calling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).

/Users/zengtao/science-theme-park/src/app/chamber/sm3-02/page.tsx:423:13
  421 |     useEffect(() => {
  422 |         if (currentQuest?.angle != null) {
> 423 |             setAngle(currentQuest.angle);
      |             ^^^^^^^^ Avoid calling setState() directly within an effect
  424 |             // Auto toggle relevant visuals based on quest type
  425 |             if (currentQuest.trigFunc === "sin") { setShowSin(true); setShowCos(false); setShowTan(false); }
  426 |             if (currentQuest.trigFunc === "cos") { setShowSin(false); setShowCos(true); setShowTan(false); }  react-hooks/set-state-in-effect

/Users/zengtao/science-theme-park/src/app/chamber/sm3-03/page.tsx
  5:43  warning  'useState' is defined but never used  @typescript-eslint/no-unused-vars

/Users/zengtao/science-theme-park/src/app/chamber/sp1-01/page.tsx
   29:30  warning  'setMeasurementValue' is assigned a value but never used  @typescript-eslint/no-unused-vars
  261:68  error    Unexpected any. Specify a different type                  @typescript-eslint/no-explicit-any

/Users/zengtao/science-theme-park/src/app/chamber/sp1-04/page.tsx
  268:68  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/zengtao/science-theme-park/src/app/chamber/sp1-05/page.tsx
   30:15  warning  'isCore' is assigned a value but never used   @typescript-eslint/no-unused-vars
   31:15  warning  'isAdv' is assigned a value but never used    @typescript-eslint/no-unused-vars
   32:15  warning  'isElite' is assigned a value but never used  @typescript-eslint/no-unused-vars
  237:68  error    Unexpected any. Specify a different type      @typescript-eslint/no-explicit-any

/Users/zengtao/science-theme-park/src/app/chamber/sp1-07/page.tsx
  295:68  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/zengtao/science-theme-park/src/app/chamber/sp2-01/page.tsx
  270:68  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/zengtao/science-theme-park/src/app/chamber/sp2-02/page.tsx
  173:8  warning  React Hook useEffect has a missing dependency: 't'. Either include it or remove the dependency array  react-hooks/exhaustive-deps

/Users/zengtao/science-theme-park/src/app/sb1-03/stages/MeiosisStage.tsx
  17:39  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/zengtao/science-theme-park/src/app/sb1-03/stages/MitosisStage.tsx
  13:39  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/zengtao/science-theme-park/src/app/sc1-05/stages/CovalentStage.tsx
  3:17  warning  'useState' is defined but never used  @typescript-eslint/no-unused-vars

/Users/zengtao/science-theme-park/src/components/UserSetup.tsx
  10:9  warning  't' is assigned a value but never used  @typescript-eslint/no-unused-vars

/Users/zengtao/science-theme-park/src/components/chamber/em2-01/MatrixVisualization2D.tsx
   45:29  error    Compilation Skipped: Existing memoization could not be preserved

React Compiler has skipped optimizing this component because the existing manual memoization could not be preserved. This value was memoized in source but not in compilation output.

/Users/zengtao/science-theme-park/src/components/chamber/em2-01/MatrixVisualization2D.tsx:45:29
  43 |   
  44 |   // Transformed square
> 45 |   const transformedSquare = useMemo(() => 
     |                             ^^^^^^^^^^^^^^
> 46 |     unitSquare.map(transform),
     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 47 |     [matrix]
     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 48 |   );
     | ^^^^ Could not preserve existing memoization
  49 |   
  50 |   // Calculate determinant
  51 |   const det = matrix[0][0] * matrix[1][1] - matrix[0][1] * matrix[1][0];                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            react-hooks/preserve-manual-memoization
   47:5   warning  React Hook useMemo has missing dependencies: 'transform' and 'unitSquare'. Either include them or remove the dependency array                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      react-hooks/exhaustive-deps
  105:11  warning  'length' is assigned a value but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        @typescript-eslint/no-unused-vars
  232:10  error    Error: Cannot create components during render

Components created during render will reset their state each time they are created. Declare components outside of render.

/Users/zengtao/science-theme-park/src/components/chamber/em2-01/MatrixVisualization2D.tsx:232:10
  230 |         
  231 |         {/* Basis vectors */}
> 232 |         <Arrow
      |          ^^^^^ This component is created during render
  233 |           from={{ x: 0, y: 0 }}
  234 |           to={iHat}
  235 |           color="#ff2d7d"

/Users/zengtao/science-theme-park/src/components/chamber/em2-01/MatrixVisualization2D.tsx:99:17
   97 |   
   98 |   // Draw arrow
>  99 |   const Arrow = ({ from, to, color, label }: { from: Point; to: Point; color: string; label: string }) => {
      |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 100 |     const canvasFrom = toCanvas(from);
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 101 |     const canvasTo = toCanvas(to);
      …
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 154 |     );
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 155 |   };
      | ^^^^ The component is created during render here
  156 |   
  157 |   return (
  158 |     <div className="w-full h-full bg-black/90 p-4 space-y-4">  react-hooks/static-components
  238:10  error    Error: Cannot create components during render

Components created during render will reset their state each time they are created. Declare components outside of render.

/Users/zengtao/science-theme-park/src/components/chamber/em2-01/MatrixVisualization2D.tsx:238:10
  236 |           label="î"
  237 |         />
> 238 |         <Arrow
      |          ^^^^^ This component is created during render
  239 |           from={{ x: 0, y: 0 }}
  240 |           to={jHat}
  241 |           color="#39ff14"

/Users/zengtao/science-theme-park/src/components/chamber/em2-01/MatrixVisualization2D.tsx:99:17
   97 |   
   98 |   // Draw arrow
>  99 |   const Arrow = ({ from, to, color, label }: { from: Point; to: Point; color: string; label: string }) => {
      |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 100 |     const canvasFrom = toCanvas(from);
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 101 |     const canvasTo = toCanvas(to);
      …
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 154 |     );
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 155 |   };
      | ^^^^ The component is created during render here
  156 |   
  157 |   return (
  158 |     <div className="w-full h-full bg-black/90 p-4 space-y-4">          react-hooks/static-components

/Users/zengtao/science-theme-park/src/components/chamber/gb1-01/EvolutionCanvas.tsx
   9:19  error    Unexpected any. Specify a different type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 @typescript-eslint/no-explicit-any
  16:5   warning  'translations' is defined but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 @typescript-eslint/no-unused-vars
  27:31  error    Error: Cannot call impure function during render

`Math.random` is an impure function. Calling an impure function can produce unstable results that update unpredictably when the component happens to re-render. (https://react.dev/reference/rules/components-and-hooks-must-be-pure#components-and-hooks-must-be-idempotent).

/Users/zengtao/science-theme-park/src/components/chamber/gb1-01/EvolutionCanvas.tsx:27:31
  25 |         for (let i = 0; i < popSize; i++) {
  26 |             // Trait value evolves over generations
> 27 |             const baseValue = Math.random();
     |                               ^^^^^^^^^^^^^ Cannot call impure function
  28 |             const evolutionFactor = generation / 100;
  29 |             const trait = baseValue + (selectionPressure - 0.5) * evolutionFactor;
  30 |               react-hooks/purity
  32:20  error    Error: Cannot call impure function during render

`Math.random` is an impure function. Calling an impure function can produce unstable results that update unpredictably when the component happens to re-render. (https://react.dev/reference/rules/components-and-hooks-must-be-pure#components-and-hooks-must-be-idempotent).

/Users/zengtao/science-theme-park/src/components/chamber/gb1-01/EvolutionCanvas.tsx:32:20
  30 |             
  31 |             individuals.push({
> 32 |                 x: Math.random() * 100,
     |                    ^^^^^^^^^^^^^ Cannot call impure function
  33 |                 y: Math.random() * 100,
  34 |                 trait: Math.max(0, Math.min(1, trait)),
  35 |                 fitness: Math.max(0, Math.min(1, trait * selectionPressure + (1 - trait) * (1 - selectionPressure))),      react-hooks/purity
  33:20  error    Error: Cannot call impure function during render

`Math.random` is an impure function. Calling an impure function can produce unstable results that update unpredictably when the component happens to re-render. (https://react.dev/reference/rules/components-and-hooks-must-be-pure#components-and-hooks-must-be-idempotent).

/Users/zengtao/science-theme-park/src/components/chamber/gb1-01/EvolutionCanvas.tsx:33:20
  31 |             individuals.push({
  32 |                 x: Math.random() * 100,
> 33 |                 y: Math.random() * 100,
     |                    ^^^^^^^^^^^^^ Cannot call impure function
  34 |                 trait: Math.max(0, Math.min(1, trait)),
  35 |                 fitness: Math.max(0, Math.min(1, trait * selectionPressure + (1 - trait) * (1 - selectionPressure))),
  36 |             });   react-hooks/purity

/Users/zengtao/science-theme-park/src/components/chamber/gc1-02/ElectrolysisCanvas.tsx
  92:23  warning  'x' is assigned a value but never used  @typescript-eslint/no-unused-vars

/Users/zengtao/science-theme-park/src/components/chamber/gm1-01/DerivativeCanvas.tsx
    3:18  warning  'useMemo' is defined but never used                                     @typescript-eslint/no-unused-vars
  129:9   warning  'actualAngle' is assigned a value but never used                        @typescript-eslint/no-unused-vars
  360:38  error    Comments inside children section of tag should be placed inside braces  react/jsx-no-comment-textnodes

/Users/zengtao/science-theme-park/src/components/chamber/gm1-01/DerivativeVisualization.tsx
   3:10  warning  'useRef' is defined but never used    @typescript-eslint/no-unused-vars
   4:18  warning  'useFrame' is defined but never used  @typescript-eslint/no-unused-vars
  51:14  warning  'e' is defined but never used         @typescript-eslint/no-unused-vars

/Users/zengtao/science-theme-park/src/components/chamber/gm2-01/VectorVisualization.tsx
   3:10  warning  'useRef' is defined but never used              @typescript-eslint/no-unused-vars
  42:9   warning  'direction' is assigned a value but never used  @typescript-eslint/no-unused-vars

/Users/zengtao/science-theme-park/src/components/chamber/gm4-01/ComplexVisualization.tsx
   25:9   warning  't' is assigned a value but never used        @typescript-eslint/no-unused-vars
  282:19  warning  'zOffset' is assigned a value but never used  @typescript-eslint/no-unused-vars

/Users/zengtao/science-theme-park/src/components/chamber/gp2-01/GasLawsVisualization.tsx
  4:12  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  8:48  warning  'quest' is defined but never used         @typescript-eslint/no-unused-vars

/Users/zengtao/science-theme-park/src/components/chamber/gp2-02/ThermodynamicsVisualization.tsx
  4:12  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  8:55  warning  'quest' is defined but never used         @typescript-eslint/no-unused-vars

/Users/zengtao/science-theme-park/src/components/chamber/gp2-03/HeatEngineVisualization.tsx
  4:12  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  8:51  warning  'quest' is defined but never used         @typescript-eslint/no-unused-vars

/Users/zengtao/science-theme-park/src/components/chamber/gp2-04/EntropyVisualization.tsx
    4:12  error    Unexpected any. Specify a different type                         @typescript-eslint/no-explicit-any
    8:48  warning  'quest' is defined but never used                                @typescript-eslint/no-unused-vars
  276:58  error    `'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`  react/no-unescaped-entities
  279:64  error    `'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`  react/no-unescaped-entities

/Users/zengtao/science-theme-park/src/components/chamber/sb1-01/CellCanvas.tsx
   13:19   error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
   16:111  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
   49:162  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
   81:158  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  105:118  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  129:124  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/zengtao/science-theme-park/src/components/chamber/sb1-02/PhotosynthesisCanvas.tsx
  10:19  error    Unexpected any. Specify a different type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               @typescript-eslint/no-explicit-any
  43:13  error    Error: Cannot access variable before it is declared

`drawEquationFlow` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

/Users/zengtao/science-theme-park/src/components/chamber/sb1-02/PhotosynthesisCanvas.tsx:43:13
  41 |
  42 |         if (stage === "EQUATION") {
> 43 |             drawEquationFlow(ctx, w, h, lightIntensity);
     |             ^^^^^^^^^^^^^^^^ `drawEquationFlow` accessed before it is declared
  44 |         } else if (stage === "FACTORS") {
  45 |             drawFactorsGraph(ctx, w, h, lightIntensity, co2Level, temperature);
  46 |         } else if (stage === "CHLOROPLAST") {

/Users/zengtao/science-theme-park/src/components/chamber/sb1-02/PhotosynthesisCanvas.tsx:52:5
   50 |     }, [lightIntensity, co2Level, temperature, stage]);
   51 |
>  52 |     const drawEquationFlow = (ctx: CanvasRenderingContext2D, w: number, h: number, light: number) => {
      |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>  53 |         const centerY = h / 2;
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>  54 |         
      …
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 117 |         ctx.fill();
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 118 |     };
      | ^^^^^^^ `drawEquationFlow` is declared here
  119 |
  120 |     const drawFactorsGraph = (ctx: CanvasRenderingContext2D, w: number, h: number, light: number, co2: number, temp: number) => {
  121 |         const graphH = h * 0.6;                                                                                                  react-hooks/immutability
  45:13  error    Error: Cannot access variable before it is declared

`drawFactorsGraph` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

/Users/zengtao/science-theme-park/src/components/chamber/sb1-02/PhotosynthesisCanvas.tsx:45:13
  43 |             drawEquationFlow(ctx, w, h, lightIntensity);
  44 |         } else if (stage === "FACTORS") {
> 45 |             drawFactorsGraph(ctx, w, h, lightIntensity, co2Level, temperature);
     |             ^^^^^^^^^^^^^^^^ `drawFactorsGraph` accessed before it is declared
  46 |         } else if (stage === "CHLOROPLAST") {
  47 |             drawChloroplast(ctx, w, h);
  48 |         }

/Users/zengtao/science-theme-park/src/components/chamber/sb1-02/PhotosynthesisCanvas.tsx:120:5
  118 |     };
  119 |
> 120 |     const drawFactorsGraph = (ctx: CanvasRenderingContext2D, w: number, h: number, light: number, co2: number, temp: number) => {
      |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 121 |         const graphH = h * 0.6;
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 122 |         const graphY = h * 0.2;
      …
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 168 |         ctx.fillText(`${translations?.canvas_labels?.rate ?? "Rate"}: ${Math.round(avgRate)}%`, w / 2, h * 0.9);
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 169 |     };
      | ^^^^^^^ `drawFactorsGraph` is declared here
  170 |
  171 |     const drawChloroplast = (ctx: CanvasRenderingContext2D, w: number, h: number) => {
  172 |         const centerX = w / 2;  react-hooks/immutability
  47:13  error    Error: Cannot access variable before it is declared

`drawChloroplast` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

/Users/zengtao/science-theme-park/src/components/chamber/sb1-02/PhotosynthesisCanvas.tsx:47:13
  45 |             drawFactorsGraph(ctx, w, h, lightIntensity, co2Level, temperature);
  46 |         } else if (stage === "CHLOROPLAST") {
> 47 |             drawChloroplast(ctx, w, h);
     |             ^^^^^^^^^^^^^^^ `drawChloroplast` accessed before it is declared
  48 |         }
  49 |
  50 |     }, [lightIntensity, co2Level, temperature, stage]);

/Users/zengtao/science-theme-park/src/components/chamber/sb1-02/PhotosynthesisCanvas.tsx:171:5
  169 |     };
  170 |
> 171 |     const drawChloroplast = (ctx: CanvasRenderingContext2D, w: number, h: number) => {
      |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 172 |         const centerX = w / 2;
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 173 |         const centerY = h / 2;
      …
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 233 |         ctx.stroke();
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 234 |     };
      | ^^^^^^^ `drawChloroplast` is declared here
  235 |
  236 |     return (
  237 |         <canvas                                                                                                                                                                                                                                                                                                                                react-hooks/immutability
  50:8   warning  React Hook useEffect has missing dependencies: 'drawChloroplast', 'drawEquationFlow', and 'drawFactorsGraph'. Either include them or remove the dependency array                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       react-hooks/exhaustive-deps

/Users/zengtao/science-theme-park/src/components/chamber/sb2-01-tissues/TissueVisualization.tsx
  4:12  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/zengtao/science-theme-park/src/components/chamber/sb2-02-body-systems/BodySystemVisualization.tsx
  4:12  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  8:51  warning  'quest' is defined but never used         @typescript-eslint/no-unused-vars

/Users/zengtao/science-theme-park/src/components/chamber/sb2-02/BodySystemCanvas.tsx
   8:19  error    Unexpected any. Specify a different type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                @typescript-eslint/no-explicit-any
  11:70  warning  'translations' is defined but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                @typescript-eslint/no-unused-vars
  35:13  error    Error: Cannot access variable before it is declared

`drawDigestiveSystem` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

/Users/zengtao/science-theme-park/src/components/chamber/sb2-02/BodySystemCanvas.tsx:35:13
  33 |
  34 |         if (system === "digestive") {
> 35 |             drawDigestiveSystem(ctx, w, h, highlightedOrgan);
     |             ^^^^^^^^^^^^^^^^^^^ `drawDigestiveSystem` accessed before it is declared
  36 |         } else if (system === "circulatory") {
  37 |             drawCirculatorySystem(ctx, w, h, highlightedOrgan);
  38 |         } else if (system === "respiratory") {

/Users/zengtao/science-theme-park/src/components/chamber/sb2-02/BodySystemCanvas.tsx:44:5
   42 |     }, [system, highlightedOrgan]);
   43 |
>  44 |     const drawDigestiveSystem = (ctx: CanvasRenderingContext2D, w: number, h: number, highlight: string | null) => {
      |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>  45 |         const centerX = w / 2;
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>  46 |         
      …
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 121 |         ctx.fillText("LIVER", centerX + 70, h * 0.32);
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 122 |     };
      | ^^^^^^^ `drawDigestiveSystem` is declared here
  123 |
  124 |     const drawCirculatorySystem = (ctx: CanvasRenderingContext2D, w: number, h: number, highlight: string | null) => {
  125 |         const centerX = w / 2;                                                                                   react-hooks/immutability
  37:13  error    Error: Cannot access variable before it is declared

`drawCirculatorySystem` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

/Users/zengtao/science-theme-park/src/components/chamber/sb2-02/BodySystemCanvas.tsx:37:13
  35 |             drawDigestiveSystem(ctx, w, h, highlightedOrgan);
  36 |         } else if (system === "circulatory") {
> 37 |             drawCirculatorySystem(ctx, w, h, highlightedOrgan);
     |             ^^^^^^^^^^^^^^^^^^^^^ `drawCirculatorySystem` accessed before it is declared
  38 |         } else if (system === "respiratory") {
  39 |             drawRespiratorySystem(ctx, w, h, highlightedOrgan);
  40 |         }

/Users/zengtao/science-theme-park/src/components/chamber/sb2-02/BodySystemCanvas.tsx:124:5
  122 |     };
  123 |
> 124 |     const drawCirculatorySystem = (ctx: CanvasRenderingContext2D, w: number, h: number, highlight: string | null) => {
      |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 125 |         const centerX = w / 2;
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 126 |         const isHighlighted = (organ: string) => highlight === organ;
      …
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 215 |         ctx.fillText("VEINS", centerX + 70, h * 0.25);
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 216 |     };
      | ^^^^^^^ `drawCirculatorySystem` is declared here
  217 |
  218 |     const drawRespiratorySystem = (ctx: CanvasRenderingContext2D, w: number, h: number, highlight: string | null) => {
  219 |         const centerX = w / 2;  react-hooks/immutability
  39:13  error    Error: Cannot access variable before it is declared

`drawRespiratorySystem` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

/Users/zengtao/science-theme-park/src/components/chamber/sb2-02/BodySystemCanvas.tsx:39:13
  37 |             drawCirculatorySystem(ctx, w, h, highlightedOrgan);
  38 |         } else if (system === "respiratory") {
> 39 |             drawRespiratorySystem(ctx, w, h, highlightedOrgan);
     |             ^^^^^^^^^^^^^^^^^^^^^ `drawRespiratorySystem` accessed before it is declared
  40 |         }
  41 |
  42 |     }, [system, highlightedOrgan]);

/Users/zengtao/science-theme-park/src/components/chamber/sb2-02/BodySystemCanvas.tsx:218:5
  216 |     };
  217 |
> 218 |     const drawRespiratorySystem = (ctx: CanvasRenderingContext2D, w: number, h: number, highlight: string | null) => {
      |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 219 |         const centerX = w / 2;
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 220 |         const isHighlighted = (organ: string) => highlight === organ;
      …
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 312 |         ctx.fillText("DIAPHRAGM", centerX, h * 0.8);
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 313 |     };
      | ^^^^^^^ `drawRespiratorySystem` is declared here
  314 |
  315 |     return (
  316 |         <canvas                                                                                                                                                                                                      react-hooks/immutability

/Users/zengtao/science-theme-park/src/components/chamber/sb2-03/GeneticsLab.tsx
   11:19   error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
   14:114  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
   93:93   error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  143:105  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/zengtao/science-theme-park/src/components/chamber/sb3-01/EcosystemCanvas.tsx
    9:19  error    Unexpected any. Specify a different type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             @typescript-eslint/no-explicit-any
   16:5   warning  'translations' is defined but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             @typescript-eslint/no-unused-vars
   41:13  error    Error: Cannot access variable before it is declared

`drawFoodChain` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

/Users/zengtao/science-theme-park/src/components/chamber/sb3-01/EcosystemCanvas.tsx:41:13
  39 |
  40 |         if (stage === "FOOD_CHAINS") {
> 41 |             drawFoodChain(ctx, w, h);
     |             ^^^^^^^^^^^^^ `drawFoodChain` accessed before it is declared
  42 |         } else if (stage === "ENERGY_FLOW") {
  43 |             drawEnergyPyramid(ctx, w, h, selectedLevel, showEnergyFlow);
  44 |         } else if (stage === "CYCLES") {

/Users/zengtao/science-theme-park/src/components/chamber/sb3-01/EcosystemCanvas.tsx:49:5
   47 |     }, [stage, selectedLevel, showEnergyFlow]);
   48 |
>  49 |     const drawFoodChain = (ctx: CanvasRenderingContext2D, w: number, h: number) => {
      |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>  50 |         // Rhine River Food Chain
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>  51 |         const levels = [
      …
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>  98 |         }
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>  99 |     };
      | ^^^^^^^ `drawFoodChain` is declared here
  100 |
  101 |     const drawEnergyPyramid = (
  102 |         ctx: CanvasRenderingContext2D,                   react-hooks/immutability
   43:13  error    Error: Cannot access variable before it is declared

`drawEnergyPyramid` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

/Users/zengtao/science-theme-park/src/components/chamber/sb3-01/EcosystemCanvas.tsx:43:13
  41 |             drawFoodChain(ctx, w, h);
  42 |         } else if (stage === "ENERGY_FLOW") {
> 43 |             drawEnergyPyramid(ctx, w, h, selectedLevel, showEnergyFlow);
     |             ^^^^^^^^^^^^^^^^^ `drawEnergyPyramid` accessed before it is declared
  44 |         } else if (stage === "CYCLES") {
  45 |             drawBiogeochemicalCycle(ctx, w, h);
  46 |         }

/Users/zengtao/science-theme-park/src/components/chamber/sb3-01/EcosystemCanvas.tsx:101:5
   99 |     };
  100 |
> 101 |     const drawEnergyPyramid = (
      |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 102 |         ctx: CanvasRenderingContext2D,
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 103 |         w: number,
      …
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 170 |         }
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 171 |     };
      | ^^^^^^^ `drawEnergyPyramid` is declared here
  172 |
  173 |     const drawBiogeochemicalCycle = (ctx: CanvasRenderingContext2D, w: number, h: number) => {
  174 |         // Carbon Cycle simplified                                                         react-hooks/immutability
   45:13  error    Error: Cannot access variable before it is declared

`drawBiogeochemicalCycle` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

/Users/zengtao/science-theme-park/src/components/chamber/sb3-01/EcosystemCanvas.tsx:45:13
  43 |             drawEnergyPyramid(ctx, w, h, selectedLevel, showEnergyFlow);
  44 |         } else if (stage === "CYCLES") {
> 45 |             drawBiogeochemicalCycle(ctx, w, h);
     |             ^^^^^^^^^^^^^^^^^^^^^^^ `drawBiogeochemicalCycle` accessed before it is declared
  46 |         }
  47 |     }, [stage, selectedLevel, showEnergyFlow]);
  48 |

/Users/zengtao/science-theme-park/src/components/chamber/sb3-01/EcosystemCanvas.tsx:173:5
  171 |     };
  172 |
> 173 |     const drawBiogeochemicalCycle = (ctx: CanvasRenderingContext2D, w: number, h: number) => {
      |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 174 |         // Carbon Cycle simplified
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 175 |         const centerX = w / 2;
      …
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 249 |         ctx.fillText("Carbon Cycle", centerX, centerY);
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 250 |     };
      | ^^^^^^^ `drawBiogeochemicalCycle` is declared here
  251 |
  252 |     return (
  253 |         <canvas  react-hooks/immutability
  149:19  warning  'fromLevel' is assigned a value but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       @typescript-eslint/no-unused-vars
  150:19  warning  'toLevel' is assigned a value but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         @typescript-eslint/no-unused-vars
  190:19  warning  'x1' is assigned a value but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              @typescript-eslint/no-unused-vars
  191:19  warning  'y1' is assigned a value but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              @typescript-eslint/no-unused-vars
  192:19  warning  'x2' is assigned a value but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              @typescript-eslint/no-unused-vars
  193:19  warning  'y2' is assigned a value but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              @typescript-eslint/no-unused-vars

/Users/zengtao/science-theme-park/src/components/chamber/sb3-01/EcosystemVisualization.tsx
  4:12  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  8:50  warning  'quest' is defined but never used         @typescript-eslint/no-unused-vars

/Users/zengtao/science-theme-park/src/components/chamber/sc3-02/OrganicMoleculeCanvas.tsx
    9:19  error    Unexpected any. Specify a different type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   @typescript-eslint/no-explicit-any
   12:74  warning  'translations' is defined but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   @typescript-eslint/no-unused-vars
   36:13  error    Error: Cannot access variable before it is declared

`draw3DMolecule` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

/Users/zengtao/science-theme-park/src/components/chamber/sc3-02/OrganicMoleculeCanvas.tsx:36:13
  34 |
  35 |         if (show3D) {
> 36 |             draw3DMolecule(ctx, w, h, molecule);
     |             ^^^^^^^^^^^^^^ `draw3DMolecule` accessed before it is declared
  37 |         } else {
  38 |             draw2DMolecule(ctx, w, h, molecule);
  39 |         }

/Users/zengtao/science-theme-park/src/components/chamber/sc3-02/OrganicMoleculeCanvas.tsx:139:5
  137 |     };
  138 |
> 139 |     const draw3DMolecule = (ctx: CanvasRenderingContext2D, w: number, h: number, mol: string) => {
      |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 140 |         const centerX = w / 2;
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 141 |         const centerY = h / 2;
      …
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 215 |         }
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 216 |     };
      | ^^^^^^^ `draw3DMolecule` is declared here
  217 |
  218 |     const drawAtom = (ctx: CanvasRenderingContext2D, x: number, y: number, symbol: string, color: string) => {
  219 |         // Atom circle                                      react-hooks/immutability
   38:13  error    Error: Cannot access variable before it is declared

`draw2DMolecule` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

/Users/zengtao/science-theme-park/src/components/chamber/sc3-02/OrganicMoleculeCanvas.tsx:38:13
  36 |             draw3DMolecule(ctx, w, h, molecule);
  37 |         } else {
> 38 |             draw2DMolecule(ctx, w, h, molecule);
     |             ^^^^^^^^^^^^^^ `draw2DMolecule` accessed before it is declared
  39 |         }
  40 |
  41 |     }, [molecule, show3D, stage]);

/Users/zengtao/science-theme-park/src/components/chamber/sc3-02/OrganicMoleculeCanvas.tsx:43:5
   41 |     }, [molecule, show3D, stage]);
   42 |
>  43 |     const draw2DMolecule = (ctx: CanvasRenderingContext2D, w: number, h: number, mol: string) => {
      |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>  44 |         const centerX = w / 2;
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>  45 |         const centerY = h / 2;
      …
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 136 |         }
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 137 |     };
      | ^^^^^^^ `draw2DMolecule` is declared here
  138 |
  139 |     const draw3DMolecule = (ctx: CanvasRenderingContext2D, w: number, h: number, mol: string) => {
  140 |         const centerX = w / 2;  react-hooks/immutability
   41:8   warning  React Hook useEffect has missing dependencies: 'draw2DMolecule' and 'draw3DMolecule'. Either include them or remove the dependency array                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   react-hooks/exhaustive-deps
  160:27  error    Error: Cannot call impure function during render

`Date.now` is an impure function. Calling an impure function can produce unstable results that update unpredictably when the component happens to re-render. (https://react.dev/reference/rules/components-and-hooks-must-be-pure#components-and-hooks-must-be-idempotent).

/Users/zengtao/science-theme-park/src/components/chamber/sc3-02/OrganicMoleculeCanvas.tsx:160:27
  158 |         } else if (mol === "ethane") {
  159 |             // C2H6 - staggered conformation
> 160 |             const angle = Date.now() / 1000; // Slow rotation
      |                           ^^^^^^^^^^ Cannot call impure function
  161 |
  162 |             // Front carbon
  163 |             drawAtom(ctx, centerX - 30, centerY, "C", "#00ff00");                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   react-hooks/purity
  190:37  error    Error: Cannot call impure function during render

`Date.now` is an impure function. Calling an impure function can produce unstable results that update unpredictably when the component happens to re-render. (https://react.dev/reference/rules/components-and-hooks-must-be-pure#components-and-hooks-must-be-idempotent).

/Users/zengtao/science-theme-park/src/components/chamber/sc3-02/OrganicMoleculeCanvas.tsx:190:37
  188 |             // C6H6 - 3D Ring view
  189 |             for (let i = 0; i < 6; i++) {
> 190 |                 const a = (i * 60 + Date.now() / 20) * Math.PI / 180;
      |                                     ^^^^^^^^^^ Cannot call impure function
  191 |                 const x = centerX + Math.cos(a) * 60;
  192 |                 const y = centerY + Math.sin(a) * 30; // Perspective tilt
  193 |                 drawAtom(ctx, x, y, "C", "#00ff00");                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 react-hooks/purity
  195:47  error    Error: Cannot call impure function during render

`Date.now` is an impure function. Calling an impure function can produce unstable results that update unpredictably when the component happens to re-render. (https://react.dev/reference/rules/components-and-hooks-must-be-pure#components-and-hooks-must-be-idempotent).

/Users/zengtao/science-theme-park/src/components/chamber/sc3-02/OrganicMoleculeCanvas.tsx:195:47
  193 |                 drawAtom(ctx, x, y, "C", "#00ff00");
  194 |
> 195 |                 const aNext = ((i + 1) * 60 + Date.now() / 20) * Math.PI / 180;
      |                                               ^^^^^^^^^^ Cannot call impure function
  196 |                 draw3DBond(ctx, x, y, centerX + Math.cos(aNext) * 60, centerY + Math.sin(aNext) * 30, "solid");
  197 |             }
  198 |         } else {                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           react-hooks/purity

/Users/zengtao/science-theme-park/src/components/chamber/sc3-03/OrganicReactionCanvas.tsx
   9:19  error    Unexpected any. Specify a different type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 @typescript-eslint/no-explicit-any
  16:5   warning  'translations' is defined but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 @typescript-eslint/no-unused-vars
  50:13  error    Error: Cannot access variable before it is declared

`drawCombustion` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

/Users/zengtao/science-theme-park/src/components/chamber/sc3-03/OrganicReactionCanvas.tsx:50:13
  48 |
  49 |         if (stage === "COMBUSTION") {
> 50 |             drawCombustion(ctx, w, h, animationFrame, showMechanism);
     |             ^^^^^^^^^^^^^^ `drawCombustion` accessed before it is declared
  51 |         } else if (stage === "SUBSTITUTION") {
  52 |             drawSubstitution(ctx, w, h, animationFrame, showMechanism);
  53 |         } else if (stage === "ADDITION") {

/Users/zengtao/science-theme-park/src/components/chamber/sc3-03/OrganicReactionCanvas.tsx:58:5
   56 |     }, [stage, animationFrame, showMechanism]);
   57 |
>  58 |     const drawCombustion = (ctx: CanvasRenderingContext2D, w: number, h: number, frame: number, showMech: boolean) => {
      |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>  59 |         const centerY = h / 2;
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>  60 |         
      …
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 107 |         }
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 108 |     };
      | ^^^^^^^ `drawCombustion` is declared here
  109 |
  110 |     const drawSubstitution = (ctx: CanvasRenderingContext2D, w: number, h: number, frame: number, showMech: boolean) => {
  111 |         const centerY = h / 2;          react-hooks/immutability
  52:13  error    Error: Cannot access variable before it is declared

`drawSubstitution` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

/Users/zengtao/science-theme-park/src/components/chamber/sc3-03/OrganicReactionCanvas.tsx:52:13
  50 |             drawCombustion(ctx, w, h, animationFrame, showMechanism);
  51 |         } else if (stage === "SUBSTITUTION") {
> 52 |             drawSubstitution(ctx, w, h, animationFrame, showMechanism);
     |             ^^^^^^^^^^^^^^^^ `drawSubstitution` accessed before it is declared
  53 |         } else if (stage === "ADDITION") {
  54 |             drawAddition(ctx, w, h, animationFrame, showMechanism);
  55 |         }

/Users/zengtao/science-theme-park/src/components/chamber/sc3-03/OrganicReactionCanvas.tsx:110:5
  108 |     };
  109 |
> 110 |     const drawSubstitution = (ctx: CanvasRenderingContext2D, w: number, h: number, frame: number, showMech: boolean) => {
      |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 111 |         const centerY = h / 2;
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 112 |         
      …
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 158 |         }
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 159 |     };
      | ^^^^^^^ `drawSubstitution` is declared here
  160 |
  161 |     const drawAddition = (ctx: CanvasRenderingContext2D, w: number, h: number, frame: number, showMech: boolean) => {
  162 |         const centerY = h / 2;  react-hooks/immutability
  54:13  error    Error: Cannot access variable before it is declared

`drawAddition` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

/Users/zengtao/science-theme-park/src/components/chamber/sc3-03/OrganicReactionCanvas.tsx:54:13
  52 |             drawSubstitution(ctx, w, h, animationFrame, showMechanism);
  53 |         } else if (stage === "ADDITION") {
> 54 |             drawAddition(ctx, w, h, animationFrame, showMechanism);
     |             ^^^^^^^^^^^^ `drawAddition` accessed before it is declared
  55 |         }
  56 |     }, [stage, animationFrame, showMechanism]);
  57 |

/Users/zengtao/science-theme-park/src/components/chamber/sc3-03/OrganicReactionCanvas.tsx:161:5
  159 |     };
  160 |
> 161 |     const drawAddition = (ctx: CanvasRenderingContext2D, w: number, h: number, frame: number, showMech: boolean) => {
      |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 162 |         const centerY = h / 2;
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 163 |         
      …
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 229 |         }
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 230 |     };
      | ^^^^^^^ `drawAddition` is declared here
  231 |
  232 |     const drawMolecule = (ctx: CanvasRenderingContext2D, x: number, y: number, formula: string, color: string) => {
  233 |         // Molecule circle                                                                                                     react-hooks/immutability
  56:8   warning  React Hook useEffect has missing dependencies: 'drawAddition', 'drawCombustion', and 'drawSubstitution'. Either include them or remove the dependency array                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              react-hooks/exhaustive-deps

/Users/zengtao/science-theme-park/src/components/chamber/sc3-04/FunctionalGroupCanvas.tsx
  34:9  error    Error: Cannot access variable before it is declared

`drawMolecule` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

/Users/zengtao/science-theme-park/src/components/chamber/sc3-04/FunctionalGroupCanvas.tsx:34:9
  32 |         ctx.fillRect(0, 0, w, h);
  33 |
> 34 |         drawMolecule(ctx, w, h, molecule, highlight);
     |         ^^^^^^^^^^^^ `drawMolecule` accessed before it is declared
  35 |
  36 |     }, [molecule, highlight, stage]);
  37 |

/Users/zengtao/science-theme-park/src/components/chamber/sc3-04/FunctionalGroupCanvas.tsx:79:5
   77 |     };
   78 |
>  79 |     const drawMolecule = (ctx: CanvasRenderingContext2D, w: number, h: number, mol: string, hl: boolean) => {
      |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>  80 |         const cx = w / 2;
      | ^^^^^^^^^^^^^^^^^^^^^^^^^
>  81 |         const cy = h / 2;
      …
      | ^^^^^^^^^^^^^^^^^^^^^^^^^
> 176 |         }
      | ^^^^^^^^^^^^^^^^^^^^^^^^^
> 177 |     };
      | ^^^^^^^ `drawMolecule` is declared here
  178 |
  179 |     return (
  180 |         <canvas  react-hooks/immutability
  36:8  warning  React Hook useEffect has a missing dependency: 'drawMolecule'. Either include it or remove the dependency array                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         react-hooks/exhaustive-deps

/Users/zengtao/science-theme-park/src/components/chamber/sc3-05/OrbitalCanvas.tsx
  83:23  warning  'centerX' is assigned a value but never used  @typescript-eslint/no-unused-vars

/Users/zengtao/science-theme-park/src/components/chamber/sm1-02/AlgebraCanvas.tsx
  3:17  warning  'useMemo' is defined but never used  @typescript-eslint/no-unused-vars

/Users/zengtao/science-theme-park/src/components/chamber/sm1-03/IntegerCanvas.tsx
    7:10  error    Unexpected any. Specify a different type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 @typescript-eslint/no-explicit-any
   11:55  warning  'language' is defined but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     @typescript-eslint/no-unused-vars
  234:33  error    Compilation Skipped: Existing memoization could not be preserved

React Compiler has skipped optimizing this component because the existing manual memoization could not be preserved. The inferred dependencies did not match the manually specified dependencies, which could cause the value to change more or less frequently than expected. The inferred dependency was `renderThermometer`, but the source dependencies were [stage, quest]. Inferred different dependency than source.

/Users/zengtao/science-theme-park/src/components/chamber/sm1-03/IntegerCanvas.tsx:234:33
  232 |   };
  233 |   
> 234 |   const visualization = useMemo(() => {
      |                                 ^^^^^^^
> 235 |     if (stage === "NUMBER_LINE") {
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 236 |       // Use thermometer for temperature-related problems, number line for others
      …
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 246 |     return renderNumberLine();
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 247 |   }, [stage, quest]);
      | ^^^^ Could not preserve existing manual memoization
  248 |   
  249 |   return (
  250 |     <div className="space-y-4">     react-hooks/preserve-manual-memoization
  234:33  error    Compilation Skipped: Existing memoization could not be preserved

React Compiler has skipped optimizing this component because the existing manual memoization could not be preserved. The inferred dependencies did not match the manually specified dependencies, which could cause the value to change more or less frequently than expected. The inferred dependency was `renderNumberLine`, but the source dependencies were [stage, quest]. Inferred different dependency than source.

/Users/zengtao/science-theme-park/src/components/chamber/sm1-03/IntegerCanvas.tsx:234:33
  232 |   };
  233 |   
> 234 |   const visualization = useMemo(() => {
      |                                 ^^^^^^^
> 235 |     if (stage === "NUMBER_LINE") {
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 236 |       // Use thermometer for temperature-related problems, number line for others
      …
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 246 |     return renderNumberLine();
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 247 |   }, [stage, quest]);
      | ^^^^ Could not preserve existing manual memoization
  248 |   
  249 |   return (
  250 |     <div className="space-y-4">      react-hooks/preserve-manual-memoization
  234:33  error    Compilation Skipped: Existing memoization could not be preserved

React Compiler has skipped optimizing this component because the existing manual memoization could not be preserved. The inferred dependencies did not match the manually specified dependencies, which could cause the value to change more or less frequently than expected. The inferred dependency was `renderNumberLine`, but the source dependencies were [stage, quest]. Inferred different dependency than source.

/Users/zengtao/science-theme-park/src/components/chamber/sm1-03/IntegerCanvas.tsx:234:33
  232 |   };
  233 |   
> 234 |   const visualization = useMemo(() => {
      |                                 ^^^^^^^
> 235 |     if (stage === "NUMBER_LINE") {
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 236 |       // Use thermometer for temperature-related problems, number line for others
      …
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 246 |     return renderNumberLine();
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 247 |   }, [stage, quest]);
      | ^^^^ Could not preserve existing manual memoization
  248 |   
  249 |   return (
  250 |     <div className="space-y-4">      react-hooks/preserve-manual-memoization
  234:33  error    Compilation Skipped: Existing memoization could not be preserved

React Compiler has skipped optimizing this component because the existing manual memoization could not be preserved. The inferred dependencies did not match the manually specified dependencies, which could cause the value to change more or less frequently than expected. The inferred dependency was `renderCoordinateGrid`, but the source dependencies were [stage, quest]. Inferred different dependency than source.

/Users/zengtao/science-theme-park/src/components/chamber/sm1-03/IntegerCanvas.tsx:234:33
  232 |   };
  233 |   
> 234 |   const visualization = useMemo(() => {
      |                                 ^^^^^^^
> 235 |     if (stage === "NUMBER_LINE") {
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 236 |       // Use thermometer for temperature-related problems, number line for others
      …
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 246 |     return renderNumberLine();
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 247 |   }, [stage, quest]);
      | ^^^^ Could not preserve existing manual memoization
  248 |   
  249 |   return (
  250 |     <div className="space-y-4">  react-hooks/preserve-manual-memoization
  234:33  error    Compilation Skipped: Existing memoization could not be preserved

React Compiler has skipped optimizing this component because the existing manual memoization could not be preserved. The inferred dependencies did not match the manually specified dependencies, which could cause the value to change more or less frequently than expected. The inferred dependency was `renderNumberLine`, but the source dependencies were [stage, quest]. Inferred different dependency than source.

/Users/zengtao/science-theme-park/src/components/chamber/sm1-03/IntegerCanvas.tsx:234:33
  232 |   };
  233 |   
> 234 |   const visualization = useMemo(() => {
      |                                 ^^^^^^^
> 235 |     if (stage === "NUMBER_LINE") {
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 236 |       // Use thermometer for temperature-related problems, number line for others
      …
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 246 |     return renderNumberLine();
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 247 |   }, [stage, quest]);
      | ^^^^ Could not preserve existing manual memoization
  248 |   
  249 |   return (
  250 |     <div className="space-y-4">      react-hooks/preserve-manual-memoization
  247:6   warning  React Hook useMemo has missing dependencies: 'renderCoordinateGrid', 'renderNumberLine', and 'renderThermometer'. Either include them or remove the dependency array                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     react-hooks/exhaustive-deps

/Users/zengtao/science-theme-park/src/components/chamber/sm1-04/EquationBalance.tsx
    7:10  error    Unexpected any. Specify a different type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    @typescript-eslint/no-explicit-any
   11:57  warning  'language' is defined but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        @typescript-eslint/no-unused-vars
  119:33  error    Compilation Skipped: Existing memoization could not be preserved

React Compiler has skipped optimizing this component because the existing manual memoization could not be preserved. The inferred dependencies did not match the manually specified dependencies, which could cause the value to change more or less frequently than expected. The inferred dependency was `renderBalance`, but the source dependencies were [stage, quest]. Inferred different dependency than source.

/Users/zengtao/science-theme-park/src/components/chamber/sm1-04/EquationBalance.tsx:119:33
  117 |   };
  118 |   
> 119 |   const visualization = useMemo(() => {
      |                                 ^^^^^^^
> 120 |     if (stage === "BALANCE") {
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 121 |       return renderBalance();
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 122 |     } else if (stage === "SOLVE" || stage === "TRANSFORM") {
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 123 |       return renderSteps();
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 124 |     } else if (stage === "APPLICATIONS") {
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 125 |       return renderApplication();
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 126 |     }
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 127 |     return renderBalance();
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 128 |   }, [stage, quest]);
      | ^^^^ Could not preserve existing manual memoization
  129 |   
  130 |   return (
  131 |     <div className="space-y-4">  react-hooks/preserve-manual-memoization
  119:33  error    Compilation Skipped: Existing memoization could not be preserved

React Compiler has skipped optimizing this component because the existing manual memoization could not be preserved. The inferred dependencies did not match the manually specified dependencies, which could cause the value to change more or less frequently than expected. The inferred dependency was `renderBalance`, but the source dependencies were [stage, quest]. Inferred different dependency than source.

/Users/zengtao/science-theme-park/src/components/chamber/sm1-04/EquationBalance.tsx:119:33
  117 |   };
  118 |   
> 119 |   const visualization = useMemo(() => {
      |                                 ^^^^^^^
> 120 |     if (stage === "BALANCE") {
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 121 |       return renderBalance();
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 122 |     } else if (stage === "SOLVE" || stage === "TRANSFORM") {
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 123 |       return renderSteps();
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 124 |     } else if (stage === "APPLICATIONS") {
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 125 |       return renderApplication();
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 126 |     }
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 127 |     return renderBalance();
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 128 |   }, [stage, quest]);
      | ^^^^ Could not preserve existing manual memoization
  129 |   
  130 |   return (
  131 |     <div className="space-y-4">  react-hooks/preserve-manual-memoization
  128:6   warning  React Hook useMemo has a missing dependency: 'renderBalance'. Either include it or remove the dependency array                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              react-hooks/exhaustive-deps

/Users/zengtao/science-theme-park/src/components/chamber/sm1-05/RatioCanvas.tsx
   3:17  warning  'useMemo' is defined but never used         @typescript-eslint/no-unused-vars
  10:13  error    Unexpected any. Specify a different type    @typescript-eslint/no-explicit-any
  14:52  warning  'language' is defined but never used        @typescript-eslint/no-unused-vars
  76:15  warning  'total' is assigned a value but never used  @typescript-eslint/no-unused-vars

/Users/zengtao/science-theme-park/src/components/chamber/sm2-01/BinomialCanvas.tsx
  4:18  warning  'useFrame' is defined but never used  @typescript-eslint/no-unused-vars

/Users/zengtao/science-theme-park/src/components/chamber/sm2-02/PythagorasCanvas.tsx
  255:9  warning  'diagonal' is assigned a value but never used  @typescript-eslint/no-unused-vars
  425:9  warning  'distance' is assigned a value but never used  @typescript-eslint/no-unused-vars

/Users/zengtao/science-theme-park/src/components/chamber/sm2-02/PythagorasFluidCanvas.tsx
   62:11  warning  'walls' is assigned a value but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        @typescript-eslint/no-unused-vars
   92:11  warning  'hypCenterX' is assigned a value but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   @typescript-eslint/no-unused-vars
  166:23  error    Error: Cannot access refs during render

React refs are values that are not needed for rendering. Refs should only be accessed outside of render, such as in event handlers or effects. Accessing a ref value (the `current` property) during render can cause your component not to update as expected (https://react.dev/reference/react/useRef).

/Users/zengtao/science-theme-park/src/components/chamber/sm2-02/PythagorasFluidCanvas.tsx:166:23
  164 |         style={{
  165 |           transform: `rotate(${rotation}rad)`,
> 166 |           transition: isDragging.current ? 'none' : 'transform 0.1s ease-out'
      |                       ^^^^^^^^^^^^^^^^^^ Cannot access ref value during render
  167 |         }}
  168 |         className="w-full h-full"
  169 |       />  react-hooks/refs

/Users/zengtao/science-theme-park/src/components/chamber/sm2-02/PythagorasSimple2D.tsx
   4:10  warning  'clsx' is defined but never used                   @typescript-eslint/no-unused-vars
  13:55  warning  'highlightRightAngle' is defined but never used    @typescript-eslint/no-unused-vars
  14:10  warning  'showProof' is assigned a value but never used     @typescript-eslint/no-unused-vars
  14:21  warning  'setShowProof' is assigned a value but never used  @typescript-eslint/no-unused-vars

/Users/zengtao/science-theme-park/src/components/chamber/sm2-03/LaserCanvas.tsx
  49:3   warning  'onLineChange' is defined but never used            @typescript-eslint/no-unused-vars
  53:22  warning  'setHitVisible' is assigned a value but never used  @typescript-eslint/no-unused-vars
  66:9   warning  'clamp' is assigned a value but never used          @typescript-eslint/no-unused-vars
  76:13  warning  'time' is assigned a value but never used           @typescript-eslint/no-unused-vars

/Users/zengtao/science-theme-park/src/components/chamber/sm2-04/SimilarityCanvas.tsx
   7:5  warning  'Environment' is defined but never used  @typescript-eslint/no-unused-vars
  13:5  warning  'Bounds' is defined but never used       @typescript-eslint/no-unused-vars
  14:5  warning  'useBounds' is defined but never used    @typescript-eslint/no-unused-vars

/Users/zengtao/science-theme-park/src/components/chamber/sm2-05/PowerCanvas.tsx
    3:37  warning  'useEffect' is defined but never used                                   @typescript-eslint/no-unused-vars
    5:31  warning  'Grid' is defined but never used                                        @typescript-eslint/no-unused-vars
    5:37  warning  'Float' is defined but never used                                       @typescript-eslint/no-unused-vars
    5:71  warning  'Environment' is defined but never used                                 @typescript-eslint/no-unused-vars
   97:11  warning  't' is assigned a value but never used                                  @typescript-eslint/no-unused-vars
  303:9   warning  'originalStr' is assigned a value but never used                        @typescript-eslint/no-unused-vars
  390:21  error    Comments inside children section of tag should be placed inside braces  react/jsx-no-comment-textnodes
  390:31  error    Comments inside children section of tag should be placed inside braces  react/jsx-no-comment-textnodes

/Users/zengtao/science-theme-park/src/components/chamber/sm2-06/AlchemistCanvas.tsx
    3:17  warning  'useRef' is defined but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   @typescript-eslint/no-unused-vars
    4:18  warning  'useFrame' is defined but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 @typescript-eslint/no-unused-vars
  276:25  error    Comments inside children section of tag should be placed inside braces                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               react/jsx-no-comment-textnodes
  285:21  error    Error: Calling setState synchronously within an effect can trigger cascading renders

Effects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:
* Update external systems with the latest state from React.
* Subscribe for updates from some external system, calling setState in a callback function when external state changes.

Calling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).

/Users/zengtao/science-theme-park/src/components/chamber/sm2-06/AlchemistCanvas.tsx:285:21
  283 | function ClientOnlySuspense(props: { fallback: React.ReactNode, children: React.ReactNode }) {
  284 |     const [isClient, setIsClient] = useState(false);
> 285 |     useEffect(() => setIsClient(true), []);
      |                     ^^^^^^^^^^^ Avoid calling setState() directly within an effect
  286 |     if (!isClient) return <>{props.fallback}</>;
  287 |     return <React.Suspense fallback={props.fallback}>{props.children}</React.Suspense>;
  288 | }  react-hooks/set-state-in-effect

/Users/zengtao/science-theme-park/src/components/chamber/sm2-07/CoordinateCanvas2D.tsx
   27:9    warning  't' is assigned a value but never used    @typescript-eslint/no-unused-vars
  163:24   warning  'sy' is assigned a value but never used   @typescript-eslint/no-unused-vars
  164:20   warning  'sx2' is assigned a value but never used  @typescript-eslint/no-unused-vars
  191:120  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  198:140  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  209:140  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  219:118  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  225:118  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/zengtao/science-theme-park/src/components/chamber/sm2-10/DataVisualization.tsx
  4:12  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  8:45  warning  'quest' is defined but never used         @typescript-eslint/no-unused-vars

/Users/zengtao/science-theme-park/src/components/chamber/sm3-01/QuadraticCanvas.tsx
  72:24  error    Compilation Skipped: Existing memoization could not be preserved

React Compiler has skipped optimizing this component because the existing manual memoization could not be preserved. The inferred dependencies did not match the manually specified dependencies, which could cause the value to change more or less frequently than expected. The inferred dependency was `toSvg`, but the source dependencies were [a, b, c, maxAbsX, scale]. Inferred different dependency than source.

/Users/zengtao/science-theme-park/src/components/chamber/sm3-01/QuadraticCanvas.tsx:72:24
  70 |   const toSvg = (x: number, y: number): [number, number] => [ox + x * scale, oy - y * scale];
  71 |
> 72 |   const path = useMemo(() => {
     |                        ^^^^^^^
> 73 |     const pts: string[] = [];
     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 74 |     for (let px = -maxAbsX - 1; px <= maxAbsX + 1; px += 0.1) {
     …
     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 81 |     return pts.join(' ');
     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 82 |   }, [a, b, c, maxAbsX, scale]);
     | ^^^^ Could not preserve existing manual memoization
  83 |
  84 |   const [svx, svy] = toSvg(vx, vy);
  85 |  react-hooks/preserve-manual-memoization
  82:6   warning  React Hook useMemo has a missing dependency: 'toSvg'. Either include it or remove the dependency array                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          react-hooks/exhaustive-deps

/Users/zengtao/science-theme-park/src/components/chamber/sm3-04/LogarithmicCanvas.tsx
  288:38  error  Comments inside children section of tag should be placed inside braces  react/jsx-no-comment-textnodes

/Users/zengtao/science-theme-park/src/components/chamber/sm3-05/GeometryVisualization.tsx
  120:54  error  `'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`  react/no-unescaped-entities

/Users/zengtao/science-theme-park/src/components/chamber/sp1-01/MeasurementCanvas.tsx
   9:19  error    Unexpected any. Specify a different type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  @typescript-eslint/no-explicit-any
  12:65  warning  'translations' is defined but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  @typescript-eslint/no-unused-vars
  37:13  error    Error: Cannot access variable before it is declared

`drawRuler` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

/Users/zengtao/science-theme-park/src/components/chamber/sp1-01/MeasurementCanvas.tsx:37:13
  35 |         // Draw based on tool
  36 |         if (tool === "ruler") {
> 37 |             drawRuler(ctx, w, h);
     |             ^^^^^^^^^ `drawRuler` accessed before it is declared
  38 |         } else if (tool === "scale") {
  39 |             drawScale(ctx, w, h, value);
  40 |         } else if (tool === "timer") {

/Users/zengtao/science-theme-park/src/components/chamber/sp1-01/MeasurementCanvas.tsx:46:5
  44 |     }, [tool, value, stage]);
  45 |
> 46 |     const drawRuler = (ctx: CanvasRenderingContext2D, w: number, h: number) => {
     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 47 |         const centerY = h / 2;
     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 48 |         const rulerLength = w * 0.8;
     …
     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 84 |         ctx.fillText("RULER [cm]", w / 2, centerY + 35);
     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 85 |     };
     | ^^^^^^^ `drawRuler` is declared here
  86 |
  87 |     const drawScale = (ctx: CanvasRenderingContext2D, w: number, h: number, value: number) => {
  88 |         const centerX = w / 2;             react-hooks/immutability
  39:13  error    Error: Cannot access variable before it is declared

`drawScale` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

/Users/zengtao/science-theme-park/src/components/chamber/sp1-01/MeasurementCanvas.tsx:39:13
  37 |             drawRuler(ctx, w, h);
  38 |         } else if (tool === "scale") {
> 39 |             drawScale(ctx, w, h, value);
     |             ^^^^^^^^^ `drawScale` accessed before it is declared
  40 |         } else if (tool === "timer") {
  41 |             drawTimer(ctx, w, h, value);
  42 |         }

/Users/zengtao/science-theme-park/src/components/chamber/sp1-01/MeasurementCanvas.tsx:87:5
   85 |     };
   86 |
>  87 |     const drawScale = (ctx: CanvasRenderingContext2D, w: number, h: number, value: number) => {
      |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>  88 |         const centerX = w / 2;
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>  89 |         const centerY = h / 2;
      …
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 123 |         ctx.fillText("DIGITAL SCALE", centerX, centerY + 80);
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 124 |     };
      | ^^^^^^^ `drawScale` is declared here
  125 |
  126 |     const drawTimer = (ctx: CanvasRenderingContext2D, w: number, h: number, value: number) => {
  127 |         const centerX = w / 2;  react-hooks/immutability
  41:13  error    Error: Cannot access variable before it is declared

`drawTimer` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

/Users/zengtao/science-theme-park/src/components/chamber/sp1-01/MeasurementCanvas.tsx:41:13
  39 |             drawScale(ctx, w, h, value);
  40 |         } else if (tool === "timer") {
> 41 |             drawTimer(ctx, w, h, value);
     |             ^^^^^^^^^ `drawTimer` accessed before it is declared
  42 |         }
  43 |
  44 |     }, [tool, value, stage]);

/Users/zengtao/science-theme-park/src/components/chamber/sp1-01/MeasurementCanvas.tsx:126:5
  124 |     };
  125 |
> 126 |     const drawTimer = (ctx: CanvasRenderingContext2D, w: number, h: number, value: number) => {
      |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 127 |         const centerX = w / 2;
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 128 |         const centerY = h / 2;
      …
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 186 |         ctx.fillText("STOPWATCH", centerX, centerY + radius + 45);
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 187 |     };
      | ^^^^^^^ `drawTimer` is declared here
  188 |
  189 |     return (
  190 |         <canvas                                                                                                                                         react-hooks/immutability

/Users/zengtao/science-theme-park/src/components/chamber/sp1-04/SimpleMachineCanvas.tsx
   9:19  error    Unexpected any. Specify a different type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           @typescript-eslint/no-explicit-any
  16:5   warning  'translations' is defined but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           @typescript-eslint/no-unused-vars
  41:13  error    Error: Cannot access variable before it is declared

`drawLever` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

/Users/zengtao/science-theme-park/src/components/chamber/sp1-04/SimpleMachineCanvas.tsx:41:13
  39 |
  40 |         if (stage === "LEVERS") {
> 41 |             drawLever(ctx, w, h, forceRatio, showForces);
     |             ^^^^^^^^^ `drawLever` accessed before it is declared
  42 |         } else if (stage === "PULLEYS") {
  43 |             drawPulley(ctx, w, h, showForces);
  44 |         } else if (stage === "INCLINED_PLANES") {

/Users/zengtao/science-theme-park/src/components/chamber/sp1-04/SimpleMachineCanvas.tsx:49:5
   47 |     }, [stage, forceRatio, showForces]);
   48 |
>  49 |     const drawLever = (ctx: CanvasRenderingContext2D, w: number, h: number, ma: number, showForces: boolean) => {
      |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>  50 |         const centerX = w / 2;
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>  51 |         const centerY = h / 2;
      …
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 107 |         }
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 108 |     };
      | ^^^^^^^ `drawLever` is declared here
  109 |
  110 |     const drawPulley = (ctx: CanvasRenderingContext2D, w: number, h: number, showForces: boolean) => {
  111 |         const centerX = w / 2;                   react-hooks/immutability
  43:13  error    Error: Cannot access variable before it is declared

`drawPulley` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

/Users/zengtao/science-theme-park/src/components/chamber/sp1-04/SimpleMachineCanvas.tsx:43:13
  41 |             drawLever(ctx, w, h, forceRatio, showForces);
  42 |         } else if (stage === "PULLEYS") {
> 43 |             drawPulley(ctx, w, h, showForces);
     |             ^^^^^^^^^^ `drawPulley` accessed before it is declared
  44 |         } else if (stage === "INCLINED_PLANES") {
  45 |             drawInclinedPlane(ctx, w, h, showForces);
  46 |         }

/Users/zengtao/science-theme-park/src/components/chamber/sp1-04/SimpleMachineCanvas.tsx:110:5
  108 |     };
  109 |
> 110 |     const drawPulley = (ctx: CanvasRenderingContext2D, w: number, h: number, showForces: boolean) => {
      |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 111 |         const centerX = w / 2;
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 112 |         const topY = h * 0.2;
      …
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 163 |         }
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 164 |     };
      | ^^^^^^^ `drawPulley` is declared here
  165 |
  166 |     const drawInclinedPlane = (ctx: CanvasRenderingContext2D, w: number, h: number, showForces: boolean) => {
  167 |         const baseX = w * 0.2;                                  react-hooks/immutability
  45:13  error    Error: Cannot access variable before it is declared

`drawInclinedPlane` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

/Users/zengtao/science-theme-park/src/components/chamber/sp1-04/SimpleMachineCanvas.tsx:45:13
  43 |             drawPulley(ctx, w, h, showForces);
  44 |         } else if (stage === "INCLINED_PLANES") {
> 45 |             drawInclinedPlane(ctx, w, h, showForces);
     |             ^^^^^^^^^^^^^^^^^ `drawInclinedPlane` accessed before it is declared
  46 |         }
  47 |     }, [stage, forceRatio, showForces]);
  48 |

/Users/zengtao/science-theme-park/src/components/chamber/sp1-04/SimpleMachineCanvas.tsx:166:5
  164 |     };
  165 |
> 166 |     const drawInclinedPlane = (ctx: CanvasRenderingContext2D, w: number, h: number, showForces: boolean) => {
      |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 167 |         const baseX = w * 0.2;
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 168 |         const baseY = h * 0.7;
      …
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 227 |         }
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 228 |     };
      | ^^^^^^^ `drawInclinedPlane` is declared here
  229 |
  230 |     const drawArrow = (ctx: CanvasRenderingContext2D, x1: number, y1: number, x2: number, y2: number, color: string, label: string) => {
  231 |         const angle = Math.atan2(y2 - y1, x2 - x1);  react-hooks/immutability
  47:8   warning  React Hook useEffect has missing dependencies: 'drawInclinedPlane', 'drawLever', and 'drawPulley'. Either include them or remove the dependency array                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              react-hooks/exhaustive-deps

/Users/zengtao/science-theme-park/src/components/chamber/sp1-06/PendulumCanvas.tsx
  84:34  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/zengtao/science-theme-park/src/components/chamber/sp1-07/PressureBuoyancyCanvas.tsx
  10:19  error    Unexpected any. Specify a different type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             @typescript-eslint/no-explicit-any
  18:5   warning  'translations' is defined but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             @typescript-eslint/no-unused-vars
  43:13  error    Error: Cannot access variable before it is declared

`drawPressureDemo` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

/Users/zengtao/science-theme-park/src/components/chamber/sp1-07/PressureBuoyancyCanvas.tsx:43:13
  41 |
  42 |         if (stage === "PRESSURE") {
> 43 |             drawPressureDemo(ctx, w, h, depth);
     |             ^^^^^^^^^^^^^^^^ `drawPressureDemo` accessed before it is declared
  44 |         } else if (stage === "BUOYANCY") {
  45 |             drawBuoyancyDemo(ctx, w, h, objectDensity);
  46 |         } else if (stage === "HYDRAULICS") {

/Users/zengtao/science-theme-park/src/components/chamber/sp1-07/PressureBuoyancyCanvas.tsx:52:5
   50 |     }, [stage, depth, objectDensity, pistonForce]);
   51 |
>  52 |     const drawPressureDemo = (ctx: CanvasRenderingContext2D, w: number, h: number, depth: number) => {
      |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>  53 |         const waterLevel = h * 0.2;
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>  54 |         const maxDepth = 20;
      …
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 139 |         ctx.fillText(`P = ${(pressure / 1000).toFixed(0)}kPa`, gaugeX, gaugeY);
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 140 |     };
      | ^^^^^^^ `drawPressureDemo` is declared here
  141 |
  142 |     const drawBuoyancyDemo = (ctx: CanvasRenderingContext2D, w: number, h: number, density: number) => {
  143 |         const waterLevel = h * 0.3;  react-hooks/immutability
  45:13  error    Error: Cannot access variable before it is declared

`drawBuoyancyDemo` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

/Users/zengtao/science-theme-park/src/components/chamber/sp1-07/PressureBuoyancyCanvas.tsx:45:13
  43 |             drawPressureDemo(ctx, w, h, depth);
  44 |         } else if (stage === "BUOYANCY") {
> 45 |             drawBuoyancyDemo(ctx, w, h, objectDensity);
     |             ^^^^^^^^^^^^^^^^ `drawBuoyancyDemo` accessed before it is declared
  46 |         } else if (stage === "HYDRAULICS") {
  47 |             drawHydraulicsDemo(ctx, w, h, pistonForce);
  48 |         }

/Users/zengtao/science-theme-park/src/components/chamber/sp1-07/PressureBuoyancyCanvas.tsx:142:5
  140 |     };
  141 |
> 142 |     const drawBuoyancyDemo = (ctx: CanvasRenderingContext2D, w: number, h: number, density: number) => {
      |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 143 |         const waterLevel = h * 0.3;
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 144 |         const waterDensity = 1000;
      …
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 222 |         ctx.fillText(floats ? "FLOATS" : "SINKS", w / 2, objectY - 40);
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 223 |     };
      | ^^^^^^^ `drawBuoyancyDemo` is declared here
  224 |
  225 |     const drawHydraulicsDemo = (ctx: CanvasRenderingContext2D, w: number, h: number, force: number) => {
  226 |         const baseY = h * 0.7;                   react-hooks/immutability
  47:13  error    Error: Cannot access variable before it is declared

`drawHydraulicsDemo` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

/Users/zengtao/science-theme-park/src/components/chamber/sp1-07/PressureBuoyancyCanvas.tsx:47:13
  45 |             drawBuoyancyDemo(ctx, w, h, objectDensity);
  46 |         } else if (stage === "HYDRAULICS") {
> 47 |             drawHydraulicsDemo(ctx, w, h, pistonForce);
     |             ^^^^^^^^^^^^^^^^^^ `drawHydraulicsDemo` accessed before it is declared
  48 |         }
  49 |
  50 |     }, [stage, depth, objectDensity, pistonForce]);

/Users/zengtao/science-theme-park/src/components/chamber/sp1-07/PressureBuoyancyCanvas.tsx:225:5
  223 |     };
  224 |
> 225 |     const drawHydraulicsDemo = (ctx: CanvasRenderingContext2D, w: number, h: number, force: number) => {
      |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 226 |         const baseY = h * 0.7;
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 227 |         
      …
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 309 |         ctx.fillText(`A₂`, largePistonX, baseY + 30);
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 310 |     };
      | ^^^^^^^ `drawHydraulicsDemo` is declared here
  311 |
  312 |     return (
  313 |         <canvas                                                                                                                                                                                                                             react-hooks/immutability

/Users/zengtao/science-theme-park/src/components/chamber/sp2-01/ThermodynamicsCanvas.tsx
   9:19  error    Unexpected any. Specify a different type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   @typescript-eslint/no-explicit-any
  23:5   warning  'translations' is defined but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   @typescript-eslint/no-unused-vars
  75:17  error    Error: Cannot access variable before it is declared

`drawHeatTransfer` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

/Users/zengtao/science-theme-park/src/components/chamber/sp2-01/ThermodynamicsCanvas.tsx:75:17
  73 |
  74 |             if (stage === "HEAT_TRANSFER") {
> 75 |                 drawHeatTransfer(ctx, w, h, temperature);
     |                 ^^^^^^^^^^^^^^^^ `drawHeatTransfer` accessed before it is declared
  76 |             } else if (stage === "SPECIFIC_HEAT") {
  77 |                 drawSpecificHeat(ctx, w, h, temperature, showParticles ? particles : []);
  78 |             } else if (stage === "PHASE_CHANGES") {

/Users/zengtao/science-theme-park/src/components/chamber/sp2-01/ThermodynamicsCanvas.tsx:116:5
  114 |     }, [stage, temperature, showParticles, particles]);
  115 |
> 116 |     const drawHeatTransfer = (ctx: CanvasRenderingContext2D, w: number, h: number, temp: number) => {
      |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 117 |         // Hot object (left)
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 118 |         const hotX = w * 0.2;
      …
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 158 |         ctx.fillText("Heat Flow →", w / 2, h / 2 - 40);
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 159 |     };
      | ^^^^^^^ `drawHeatTransfer` is declared here
  160 |
  161 |     const drawSpecificHeat = (ctx: CanvasRenderingContext2D, w: number, h: number, temp: number, parts: Particle[]) => {
  162 |         // Container  react-hooks/immutability
  77:17  error    Error: Cannot access variable before it is declared

`drawSpecificHeat` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

/Users/zengtao/science-theme-park/src/components/chamber/sp2-01/ThermodynamicsCanvas.tsx:77:17
  75 |                 drawHeatTransfer(ctx, w, h, temperature);
  76 |             } else if (stage === "SPECIFIC_HEAT") {
> 77 |                 drawSpecificHeat(ctx, w, h, temperature, showParticles ? particles : []);
     |                 ^^^^^^^^^^^^^^^^ `drawSpecificHeat` accessed before it is declared
  78 |             } else if (stage === "PHASE_CHANGES") {
  79 |                 drawPhaseChanges(ctx, w, h, temperature);
  80 |             }

/Users/zengtao/science-theme-park/src/components/chamber/sp2-01/ThermodynamicsCanvas.tsx:161:5
  159 |     };
  160 |
> 161 |     const drawSpecificHeat = (ctx: CanvasRenderingContext2D, w: number, h: number, temp: number, parts: Particle[]) => {
      |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 162 |         // Container
      | ^^^^^^^^^^^^^^^^^^^^
> 163 |         ctx.strokeStyle = "#00ffff";
      …
      | ^^^^^^^^^^^^^^^^^^^^
> 191 |         ctx.strokeRect(w * 0.1, h * 0.05, w * 0.8, 10);
      | ^^^^^^^^^^^^^^^^^^^^
> 192 |     };
      | ^^^^^^^ `drawSpecificHeat` is declared here
  193 |
  194 |     const drawPhaseChanges = (ctx: CanvasRenderingContext2D, w: number, h: number, temp: number) => {
  195 |         const centerX = w / 2;                    react-hooks/immutability
  79:17  error    Error: Cannot access variable before it is declared

`drawPhaseChanges` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

/Users/zengtao/science-theme-park/src/components/chamber/sp2-01/ThermodynamicsCanvas.tsx:79:17
  77 |                 drawSpecificHeat(ctx, w, h, temperature, showParticles ? particles : []);
  78 |             } else if (stage === "PHASE_CHANGES") {
> 79 |                 drawPhaseChanges(ctx, w, h, temperature);
     |                 ^^^^^^^^^^^^^^^^ `drawPhaseChanges` accessed before it is declared
  80 |             }
  81 |
  82 |             // Update particles

/Users/zengtao/science-theme-park/src/components/chamber/sp2-01/ThermodynamicsCanvas.tsx:194:5
  192 |     };
  193 |
> 194 |     const drawPhaseChanges = (ctx: CanvasRenderingContext2D, w: number, h: number, temp: number) => {
      |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 195 |         const centerX = w / 2;
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 196 |         const centerY = h / 2;
      …
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 278 |         ctx.setLineDash([]);
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 279 |     };
      | ^^^^^^^ `drawPhaseChanges` is declared here
  280 |
  281 |     return (
  282 |         <canvas                                                                                                                                                                                                                                         react-hooks/immutability
  85:25  error    'newX' is never reassigned. Use 'const' instead                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            prefer-const
  86:25  error    'newY' is never reassigned. Use 'const' instead                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            prefer-const

/Users/zengtao/science-theme-park/src/components/chamber/sp3-04/TemperatureVisualization.tsx
   4:12  error    Unexpected any. Specify a different type           @typescript-eslint/no-explicit-any
   8:52  warning  'quest' is defined but never used                  @typescript-eslint/no-unused-vars
  12:11  warning  'getTempColor' is assigned a value but never used  @typescript-eslint/no-unused-vars

/Users/zengtao/science-theme-park/src/components/chamber/sp3-05/SimpleMachinesVisualization.tsx
  4:12  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  8:55  warning  'quest' is defined but never used         @typescript-eslint/no-unused-vars

/Users/zengtao/science-theme-park/src/components/layout/ResizableLayout.tsx
  34:11  error  Error: Calling setState synchronously within an effect can trigger cascading renders

Effects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:
* Update external systems with the latest state from React.
* Subscribe for updates from some external system, calling setState in a callback function when external state changes.

Calling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).

/Users/zengtao/science-theme-park/src/components/layout/ResizableLayout.tsx:34:11
  32 |         const width = parseFloat(saved);
  33 |         if (width >= minLeftWidth && width <= maxLeftWidth) {
> 34 |           setLeftWidth(width);
     |           ^^^^^^^^^^^^ Avoid calling setState() directly within an effect
  35 |         }
  36 |       }
  37 |     }  react-hooks/set-state-in-effect

/Users/zengtao/science-theme-park/src/components/ui/Canvas3DControls.tsx
  4:10  warning  'clsx' is defined but never used  @typescript-eslint/no-unused-vars

/Users/zengtao/science-theme-park/src/lib/basel-context.ts
  112:29  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  112:69  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/zengtao/science-theme-park/src/lib/gm5-01-quests.ts
  19:6  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/zengtao/science-theme-park/src/lib/i18n/index.ts
  46:43  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/zengtao/science-theme-park/src/lib/i18n/types.ts
  13:28  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  14:26  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  15:24  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  16:27  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  24:33  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  32:33  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  40:33  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  48:33  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/zengtao/science-theme-park/src/lib/physics/matterUtils.ts
  63:9  warning  'rows' is assigned a value but never used  @typescript-eslint/no-unused-vars

✖ 326 problems (183 errors, 143 warnings)
  4 errors and 0 warnings potentially fixable with the `--fix` option.

